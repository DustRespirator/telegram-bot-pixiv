"use strict";
var _Base_apiClient;
const tslib_1 = require("tslib");
const { flatten } = require("../util/Utils");
class Base {
    constructor(client) {
        _Base_apiClient.set(this, void 0);
        tslib_1.__classPrivateFieldSet(this, _Base_apiClient, client, "f");
    }
    get client() {
        return tslib_1.__classPrivateFieldGet(this, _Base_apiClient, "f");
    }
    _patch(data) {
        return data;
    }
    _clone() {
        return Object.assign(Object.create(this), this);
    }
    _update(data) {
        const clone = this._clone();
        this._patch(data);
        return clone;
    }
    toJSON(propsRecursive, ...props) {
        return flatten(this, propsRecursive, ...props);
    }
    valueOf() {
        return "id" in this ? String(this.id) : null;
    }
}
_Base_apiClient = new WeakMap();
module.exports = { Base };
